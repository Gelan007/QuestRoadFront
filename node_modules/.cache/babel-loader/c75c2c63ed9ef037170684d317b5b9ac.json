{"ast":null,"code":"var _jsxFileName = \"E:\\\\\\u0423\\u043D\\u0438\\u0432\\u0435\\u0440\\\\3 \\u043A\\u0443\\u0440\\u0441\\\\\\u0410\\u0412\\u041F\\u0417\\\\\\u041F\\u0440\\u043E\\u0435\\u043A\\u0442\\\\CraftCuts\\\\Rep\\\\mainFront2\\\\CraftCuts_Front\\\\src\\\\components\\\\OnlineBooking\\\\EndBooking\\\\EndBooking.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport s from \"./EndBooking.module.css\";\nimport { NavLink, useHistory } from \"react-router-dom\";\nimport { render } from \"@testing-library/react\";\nimport { propTypes } from \"react-bootstrap/esm/Image\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function EndBooking() {\n  _s();\n\n  let serviceName = localStorage.getItem('bookingServiceName-info');\n  let servicePrice = localStorage.getItem('bookingServicePrice-info');\n  let barber = localStorage.getItem('bookingBarber-info');\n  let date = localStorage.getItem('bookingDate-info');\n  let obj = JSON.parse(localStorage.getItem('user-info'));\n  let email = obj['email'];\n  const [barberName, setBarberName] = useState('');\n  const [price, setPrice] = useState('');\n  const [customerEmail, setCustomerEmail] = useState(\"\");\n  const [hookServiceName, setHookServiceName] = useState(\"\");\n  const [hookDate, setHookDate] = useState(\"\"); // const [promocode, setPromocode] = useState(\"\");\n\n  const history = useHistory();\n  setBarberName(barber);\n  setCustomerEmail(email);\n  setHookServiceName(serviceName);\n  setHookDate(date);\n  debugger;\n\n  async function BookingApi(e) {\n    e.preventDefault();\n    let result = await fetch(\"https://craftcutstestapiproject20211120225609.azurewebsites.net/api/Booking\", {\n      method: 'POST',\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Accept\": \"application/json\"\n      },\n      body: JSON.stringify({\n        barber,\n        email,\n        serviceName,\n        date\n      })\n    });\n    console.log(result);\n    console.log(result.status);\n    console.log({\n      barberName,\n      customerEmail,\n      hookServiceName,\n      hookDate\n    });\n    result = await result.json();\n    localStorage.setItem(\"booking-info\", JSON.stringify(result)); // localStorage.setItem('isLoggedIn', true);\n    // setIsLoggedIn(true);\n\n    history.push(\"/endbooking\");\n    console.log(result);\n    console.log(result.status);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: s.doneBlock,\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: s.we,\n      children: \"\\u0412\\u044B \\u0443\\u0441\\u043F\\u0435\\u0448\\u043D\\u043E \\u0437\\u0430\\u043F\\u0438\\u0441\\u0430\\u043B\\u0438\\u0441\\u044C!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: s.table,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: s.headtable,\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: s.ht_text,\n            children: \"\\u041F\\u0440\\u043E\\u0446\\u0435\\u0434\\u0443\\u0440\\u0430\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            className: s.ht_text,\n            children: \"\\u041C\\u0430\\u0441\\u0442\\u0435\\u0440\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            className: s.ht_text,\n            children: \"\\u0412\\u0440\\u0435\\u043C\\u044F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            className: s.ht_text,\n            children: \"\\u0426\\u0435\\u043D\\u0430\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: s.data,\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            className: s.type,\n            children: serviceName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n            className: s.name,\n            children: barber\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n            className: s.time,\n            children: date\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n            className: s.price,\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\u0433\\u0440\\u043D\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 47\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: s.promo,\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"\\u0423 \\u0432\\u0430\\u0441 \\u0435\\u0441\\u0442\\u044C \\u043F\\u0440\\u043E\\u043C\\u043E\\u043A\\u043E\\u0434?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n          children: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0435\\u0433\\u043E \\u0437\\u0434\\u0435\\u0441\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"\\u043F\\u0440\\u043E\\u043C\\u043E\\u043A\\u043E\\u0434\",\n            className: s.input_promo1\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: s.btn_accept,\n            children: \"\\u041F\\u0440\\u0438\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: s.goback_block,\n        children: /*#__PURE__*/_jsxDEV(NavLink, {\n          className: s.goback,\n          to: \"/cabinet\",\n          children: \"\\u0412\\u0435\\u0440\\u043D\\u0443\\u0442\\u044C\\u0441\\u044F \\u0432 \\u043B\\u0438\\u0447\\u043D\\u044B\\u0439 \\u043A\\u0430\\u0431\\u0438\\u043D\\u0435\\u0442\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 63\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 9\n  }, this);\n}\n\n_s(EndBooking, \"9KQJlohsRmkSaXUF0UgcDcGBG2M=\", false, function () {\n  return [useHistory];\n});\n\n_c = EndBooking;\n\nvar _c;\n\n$RefreshReg$(_c, \"EndBooking\");","map":{"version":3,"sources":["E:/Универ/3 курс/АВПЗ/Проект/CraftCuts/Rep/mainFront2/CraftCuts_Front/src/components/OnlineBooking/EndBooking/EndBooking.jsx"],"names":["React","useState","s","NavLink","useHistory","render","propTypes","EndBooking","serviceName","localStorage","getItem","servicePrice","barber","date","obj","JSON","parse","email","barberName","setBarberName","price","setPrice","customerEmail","setCustomerEmail","hookServiceName","setHookServiceName","hookDate","setHookDate","history","BookingApi","e","preventDefault","result","fetch","method","headers","body","stringify","console","log","status","json","setItem","push","doneBlock","we","table","headtable","ht_text","data","type","name","time","promo","input_promo1","btn_accept","goback_block","goback"],"mappings":"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","sourcesContent":["import React, {useState} from \"react\";\r\nimport s from \"./EndBooking.module.css\";\r\nimport {NavLink, useHistory} from \"react-router-dom\";\r\nimport { render } from \"@testing-library/react\";\r\nimport { propTypes } from \"react-bootstrap/esm/Image\";\r\n\r\n\r\nexport default function EndBooking () {\r\n\r\n    let serviceName = localStorage.getItem('bookingServiceName-info');\r\n    let servicePrice = localStorage.getItem('bookingServicePrice-info');\r\n    let barber = localStorage.getItem('bookingBarber-info');\r\n    let date = localStorage.getItem('bookingDate-info');\r\n    let obj = JSON.parse(localStorage.getItem('user-info'));\r\n    let email = obj['email'];\r\n\r\n\r\n    const [barberName, setBarberName] = useState('');\r\n    const [price, setPrice] = useState('');\r\n    const [customerEmail, setCustomerEmail] = useState(\"\");\r\n    const [hookServiceName, setHookServiceName] = useState(\"\");\r\n    const [hookDate, setHookDate] = useState(\"\");\r\n    // const [promocode, setPromocode] = useState(\"\");\r\n    const history = useHistory();\r\n\r\n    setBarberName(barber);\r\n    setCustomerEmail(email);\r\n    setHookServiceName(serviceName);\r\n    setHookDate(date);\r\n\r\ndebugger;\r\n    async function BookingApi(e) {\r\n        e.preventDefault();\r\n        let result = await fetch(\"https://craftcutstestapiproject20211120225609.azurewebsites.net/api/Booking\", {\r\n            method: 'POST',\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n                \"Accept\": \"application/json\",\r\n            },\r\n            body: JSON.stringify({barber, email, serviceName, date}),\r\n        });\r\n        console.log(result);\r\n        console.log(result.status);\r\n\r\n        console.log({barberName, customerEmail, hookServiceName, hookDate});\r\n        result = await result.json();\r\n        localStorage.setItem(\"booking-info\", JSON.stringify(result));\r\n        // localStorage.setItem('isLoggedIn', true);\r\n        // setIsLoggedIn(true);\r\n        history.push(\"/endbooking\")\r\n        console.log(result);\r\n        console.log(result.status);\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    return (\r\n        <div className = {s.doneBlock}>\r\n            <h1 className = {s.we}>Вы успешно записались!</h1><div>\r\n            <div className = {s.table}>\r\n                <div className = {s.headtable}>\r\n                    <h4 className = {s.ht_text}>Процедура</h4>\r\n                    <h4 className = {s.ht_text}>Мастер</h4>\r\n                    <h4 className = {s.ht_text}>Время</h4>\r\n                    <h4 className = {s.ht_text}>Цена</h4>\r\n                </div>\r\n                <div className = {s.data}>\r\n                    <h5 className = {s.type}>{serviceName}</h5>\r\n                    <h5 className = {s.name}>{barber}</h5>\r\n                    <h5 className = {s.time}>{date}</h5>\r\n                    <h5 className = {s.price}><span>грн</span></h5>\r\n                </div>\r\n            </div>\r\n            <div className = {s.promo}>\r\n                <h4>У вас есть промокод?</h4>\r\n                <h6>Введите его здесь</h6>\r\n                <form>\r\n                    <input type = \"text\" placeholder = \"промокод\"  className = {s.input_promo1}></input>\r\n                    <button className={s.btn_accept}>Применить</button>\r\n                </form>\r\n            </div>\r\n            <div className = {s.goback_block}>\r\n                <NavLink className = {s.goback} to = \"/cabinet\">Вернуться в личный кабинет</NavLink>\r\n            </div>\r\n        </div>\r\n        </div>\r\n    );}"]},"metadata":{},"sourceType":"module"}