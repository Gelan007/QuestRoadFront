{"ast":null,"code":"import _regeneratorRuntime from\"E:/\\u0423\\u043D\\u0438\\u0432\\u0435\\u0440/3 \\u043A\\u0443\\u0440\\u0441/\\u0410\\u0422\\u0410\\u0420\\u041A/\\u041D\\u043E\\u0432\\u0430\\u044F \\u043F\\u0430\\u043F\\u043A\\u0430 (2)/Yotor/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"E:/\\u0423\\u043D\\u0438\\u0432\\u0435\\u0440/3 \\u043A\\u0443\\u0440\\u0441/\\u0410\\u0422\\u0410\\u0420\\u041A/\\u041D\\u043E\\u0432\\u0430\\u044F \\u043F\\u0430\\u043F\\u043A\\u0430 (2)/Yotor/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"E:/\\u0423\\u043D\\u0438\\u0432\\u0435\\u0440/3 \\u043A\\u0443\\u0440\\u0441/\\u0410\\u0422\\u0410\\u0420\\u041A/\\u041D\\u043E\\u0432\\u0430\\u044F \\u043F\\u0430\\u043F\\u043A\\u0430 (2)/Yotor/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import s from\"./EndBooking.module.css\";import{NavLink,useHistory}from\"react-router-dom\";import{render}from\"@testing-library/react\";import{propTypes}from\"react-bootstrap/esm/Image\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function EndBooking(){var serviceName=localStorage.getItem('bookingServiceName-info');var servicePrice=localStorage.getItem('bookingServicePrice-info');var barber=localStorage.getItem('bookingBarber-info');var date=localStorage.getItem('bookingDate-info');var obj=JSON.parse(localStorage.getItem('user-info'));var email=obj['email'];var _useState=useState(''),_useState2=_slicedToArray(_useState,2),barberName=_useState2[0],setBarberName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),price=_useState4[0],setPrice=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),customerEmail=_useState6[0],setCustomerEmail=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),hookServiceName=_useState8[0],setHookServiceName=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),hookDate=_useState10[0],setHookDate=_useState10[1];// const [promocode, setPromocode] = useState(\"\");\nvar history=useHistory();// setBarberName(barber);\n// setCustomerEmail(email);\n// setHookServiceName(serviceName);\n// setHookDate(date);\nfunction BookingApi(_x){return _BookingApi.apply(this,arguments);}function _BookingApi(){_BookingApi=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.next=3;return fetch(\"https://craftcutstestapiproject20211120225609.azurewebsites.net/api/Booking\",{method:'POST',headers:{\"Content-Type\":\"application/json\",\"Accept\":\"application/json\"},body:JSON.stringify({barber:barber,email:email,serviceName:serviceName,date:date})});case 3:result=_context.sent;console.log(result);console.log(result.status);// console.log({barberName, customerEmail, hookServiceName, hookDate});\nconsole.log({barber:barber,email:email,serviceName:serviceName,date:date});_context.next=9;return result.json();case 9:result=_context.sent;localStorage.setItem(\"booking-info\",JSON.stringify(result));// localStorage.setItem('isLoggedIn', true);\n// setIsLoggedIn(true);\nhistory.push(\"/endbooking\");console.log(result);console.log(result.status);case 14:case\"end\":return _context.stop();}}},_callee);}));return _BookingApi.apply(this,arguments);}return/*#__PURE__*/_jsxs(\"div\",{className:s.doneBlock,children:[/*#__PURE__*/_jsx(\"h1\",{className:s.we,children:\"\\u0412\\u044B \\u0443\\u0441\\u043F\\u0435\\u0448\\u043D\\u043E \\u0437\\u0430\\u043F\\u0438\\u0441\\u0430\\u043B\\u0438\\u0441\\u044C!\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:s.table,children:[/*#__PURE__*/_jsxs(\"div\",{className:s.headtable,children:[/*#__PURE__*/_jsx(\"h4\",{className:s.ht_text,children:\"\\u041F\\u0440\\u043E\\u0446\\u0435\\u0434\\u0443\\u0440\\u0430\"}),/*#__PURE__*/_jsx(\"h4\",{className:s.ht_text,children:\"\\u041C\\u0430\\u0441\\u0442\\u0435\\u0440\"}),/*#__PURE__*/_jsx(\"h4\",{className:s.ht_text,children:\"\\u0412\\u0440\\u0435\\u043C\\u044F\"}),/*#__PURE__*/_jsx(\"h4\",{className:s.ht_text,children:\"\\u0426\\u0435\\u043D\\u0430\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:s.data,children:[/*#__PURE__*/_jsx(\"h5\",{className:s.type,children:serviceName}),/*#__PURE__*/_jsx(\"h5\",{className:s.name,children:barber}),/*#__PURE__*/_jsx(\"h5\",{className:s.time,children:date}),/*#__PURE__*/_jsx(\"h5\",{className:s.price,children:/*#__PURE__*/_jsx(\"span\",{children:\"\\u0433\\u0440\\u043D\"})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:s.goback_block,children:/*#__PURE__*/_jsx(NavLink,{className:s.goback,to:\"/cabinet\",children:\"\\u0412\\u0435\\u0440\\u043D\\u0443\\u0442\\u044C\\u0441\\u044F \\u0432 \\u043B\\u0438\\u0447\\u043D\\u044B\\u0439 \\u043A\\u0430\\u0431\\u0438\\u043D\\u0435\\u0442\"})})]})]});}","map":{"version":3,"sources":["E:/Универ/3 курс/АТАРК/Новая папка (2)/Yotor/src/components/OnlineBooking/EndBooking/EndBooking.jsx"],"names":["React","useState","s","NavLink","useHistory","render","propTypes","EndBooking","serviceName","localStorage","getItem","servicePrice","barber","date","obj","JSON","parse","email","barberName","setBarberName","price","setPrice","customerEmail","setCustomerEmail","hookServiceName","setHookServiceName","hookDate","setHookDate","history","BookingApi","e","preventDefault","fetch","method","headers","body","stringify","result","console","log","status","json","setItem","push","doneBlock","we","table","headtable","ht_text","data","type","name","time","goback_block","goback"],"mappings":"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","sourcesContent":["import React, {useState} from \"react\";\r\nimport s from \"./EndBooking.module.css\";\r\nimport {NavLink, useHistory} from \"react-router-dom\";\r\nimport { render } from \"@testing-library/react\";\r\nimport { propTypes } from \"react-bootstrap/esm/Image\";\r\n\r\n\r\nexport default function EndBooking () {\r\n\r\n    let serviceName = localStorage.getItem('bookingServiceName-info');\r\n    let servicePrice = localStorage.getItem('bookingServicePrice-info');\r\n    let barber = localStorage.getItem('bookingBarber-info');\r\n    let date = localStorage.getItem('bookingDate-info');\r\n    let obj = JSON.parse(localStorage.getItem('user-info'));\r\n    let email = obj['email'];\r\n\r\n\r\n    const [barberName, setBarberName] = useState('');\r\n    const [price, setPrice] = useState('');\r\n    const [customerEmail, setCustomerEmail] = useState(\"\");\r\n    const [hookServiceName, setHookServiceName] = useState(\"\");\r\n    const [hookDate, setHookDate] = useState(\"\");\r\n    // const [promocode, setPromocode] = useState(\"\");\r\n    const history = useHistory();\r\n\r\n    // setBarberName(barber);\r\n    // setCustomerEmail(email);\r\n    // setHookServiceName(serviceName);\r\n    // setHookDate(date);\r\n\r\n    async function BookingApi(e) {\r\n        e.preventDefault();\r\n        let result = await fetch(\"https://craftcutstestapiproject20211120225609.azurewebsites.net/api/Booking\", {\r\n            method: 'POST',\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n                \"Accept\": \"application/json\",\r\n            },\r\n            body: JSON.stringify({barber, email, serviceName, date}),\r\n        });\r\n        console.log(result);\r\n        console.log(result.status);\r\n\r\n        // console.log({barberName, customerEmail, hookServiceName, hookDate});\r\n        console.log({barber, email, serviceName, date});\r\n        result = await result.json();\r\n        localStorage.setItem(\"booking-info\", JSON.stringify(result));\r\n        // localStorage.setItem('isLoggedIn', true);\r\n        // setIsLoggedIn(true);\r\n        history.push(\"/endbooking\")\r\n        console.log(result);\r\n        console.log(result.status);\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    return (\r\n        <div className = {s.doneBlock}>\r\n            <h1 className = {s.we}>Вы успешно записались!</h1><div>\r\n            <div className = {s.table}>\r\n                <div className = {s.headtable}>\r\n                    <h4 className = {s.ht_text}>Процедура</h4>\r\n                    <h4 className = {s.ht_text}>Мастер</h4>\r\n                    <h4 className = {s.ht_text}>Время</h4>\r\n                    <h4 className = {s.ht_text}>Цена</h4>\r\n                </div>\r\n                <div className = {s.data}>\r\n                    <h5 className = {s.type}>{serviceName}</h5>\r\n                    <h5 className = {s.name}>{barber}</h5>\r\n                    <h5 className = {s.time}>{date}</h5>\r\n                    <h5 className = {s.price}><span>грн</span></h5>\r\n                </div>\r\n            </div>\r\n\r\n            <div className = {s.goback_block}>\r\n                <NavLink className = {s.goback} to = \"/cabinet\">Вернуться в личный кабинет</NavLink>\r\n            </div>\r\n        </div>\r\n        </div>\r\n    );}"]},"metadata":{},"sourceType":"module"}