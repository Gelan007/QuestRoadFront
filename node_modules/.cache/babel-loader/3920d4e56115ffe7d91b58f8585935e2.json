{"ast":null,"code":"let store = {\n  _state: {\n    postsData: [{\n      id: 1,\n      texthead: 'Топ стрижек 2021',\n      textmain: 'It is a long established fact that a reader will be distracted by the readable content of a page when looking at its layout. The point of using Lorem Ipsum is that....'\n    }, {\n      id: 2,\n      texthead: 'Выбор кресла для барберов',\n      textmain: 'It is a long established fact that a reader will be distracted by the readable content of a page when looking at its layout. The point of using Lorem Ipsum is that....'\n    }, {\n      id: 3,\n      texthead: 'Как выбрать “своего” мастера',\n      textmain: 'It is a long established fact that a reader will be distracted by the readable content of a page when looking at its layout. The point of using Lorem Ipsum is that....'\n    }],\n    newPostText: 'it-kamasutra'\n  },\n\n  _callSubscriber() {\n    console.log('state was changed');\n  },\n\n  getState() {\n    return this._state;\n  },\n\n  subscribe(observer) {\n    this._callSubscriber = observer; // observer - наблюдатель - паттерн\n  },\n\n  addpost() {\n    let newPost = {\n      id: 4,\n      texthead: this._state.newPostText,\n      textmain: \"lorem lalallal\"\n    };\n\n    this._state.postsData.push(newPost);\n\n    this._state.newPostText = '';\n\n    this._callSubscriber(this._state);\n  },\n\n  updateNewPostText(newText) {\n    this._state.newPostText = newText;\n\n    this._callSubscriber(this._state);\n  },\n\n  dispatch(action) {\n    //  { type: 'название действия  например ADD-POST' }\n    debugger;\n\n    if (action.type === 'ADD-POST') {\n      let newPost = {\n        id: 4,\n        texthead: this._state.newPostText,\n        textmain: \"lorem lalallal\"\n      };\n\n      this._state.postsData.push(newPost);\n\n      this._state.newPostText = '';\n\n      this._callSubscriber(this._state);\n    } else if (action.type === 'UPDATE-NEW-POST-TEXT') {\n      this._state.newPostText = action.newText;\n\n      this._callSubscriber(this._state);\n    }\n  }\n\n};\nexport default store;\nwindow.store = store;","map":{"version":3,"sources":["C:/Users/Mila/Desktop/react-test-app/src/redux/state.jsx"],"names":["store","_state","postsData","id","texthead","textmain","newPostText","_callSubscriber","console","log","getState","subscribe","observer","addpost","newPost","push","updateNewPostText","newText","dispatch","action","type","window"],"mappings":"AAAA,IAAIA,KAAK,GAAG;AACVC,EAAAA,MAAM,EAAE;AACNC,IAAAA,SAAS,EAAE,CAAC;AACVC,MAAAA,EAAE,EAAE,CADM;AACHC,MAAAA,QAAQ,EAAE,kBADP;AAC2BC,MAAAA,QAAQ,EAAE;AADrC,KAAD,EAER;AACDF,MAAAA,EAAE,EAAE,CADH;AACMC,MAAAA,QAAQ,EAAE,2BADhB;AAC6CC,MAAAA,QAAQ,EAAE;AADvD,KAFQ,EAIR;AACDF,MAAAA,EAAE,EAAE,CADH;AACMC,MAAAA,QAAQ,EAAE,8BADhB;AACgDC,MAAAA,QAAQ,EAAE;AAD1D,KAJQ,CADL;AASNC,IAAAA,WAAW,EAAE;AATP,GADE;;AAYVC,EAAAA,eAAe,GAAG;AAChBC,IAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ;AACD,GAdS;;AAiBVC,EAAAA,QAAQ,GAAG;AACT,WAAO,KAAKT,MAAZ;AACD,GAnBS;;AAoBVU,EAAAA,SAAS,CAACC,QAAD,EAAW;AAClB,SAAKL,eAAL,GAAuBK,QAAvB,CADkB,CACe;AAClC,GAtBS;;AAyBVC,EAAAA,OAAO,GAAG;AACR,QAAIC,OAAO,GAAG;AACZX,MAAAA,EAAE,EAAE,CADQ;AAEZC,MAAAA,QAAQ,EAAE,KAAKH,MAAL,CAAYK,WAFV;AAGZD,MAAAA,QAAQ,EAAE;AAHE,KAAd;;AAKA,SAAKJ,MAAL,CAAYC,SAAZ,CAAsBa,IAAtB,CAA2BD,OAA3B;;AACA,SAAKb,MAAL,CAAYK,WAAZ,GAA0B,EAA1B;;AACA,SAAKC,eAAL,CAAqB,KAAKN,MAA1B;AACD,GAlCS;;AAmCVe,EAAAA,iBAAiB,CAACC,OAAD,EAAU;AACzB,SAAKhB,MAAL,CAAYK,WAAZ,GAA0BW,OAA1B;;AACA,SAAKV,eAAL,CAAqB,KAAKN,MAA1B;AACD,GAtCS;;AAwCViB,EAAAA,QAAQ,CAACC,MAAD,EAAS;AAAE;AACjB;;AACA,QAAIA,MAAM,CAACC,IAAP,KAAgB,UAApB,EAAgC;AAC9B,UAAIN,OAAO,GAAG;AACZX,QAAAA,EAAE,EAAE,CADQ;AAEZC,QAAAA,QAAQ,EAAE,KAAKH,MAAL,CAAYK,WAFV;AAGZD,QAAAA,QAAQ,EAAE;AAHE,OAAd;;AAKA,WAAKJ,MAAL,CAAYC,SAAZ,CAAsBa,IAAtB,CAA2BD,OAA3B;;AACA,WAAKb,MAAL,CAAYK,WAAZ,GAA0B,EAA1B;;AACA,WAAKC,eAAL,CAAqB,KAAKN,MAA1B;AACD,KATD,MASO,IAAIkB,MAAM,CAACC,IAAP,KAAgB,sBAApB,EAA4C;AACjD,WAAKnB,MAAL,CAAYK,WAAZ,GAA0Ba,MAAM,CAACF,OAAjC;;AACA,WAAKV,eAAL,CAAqB,KAAKN,MAA1B;AACD;AACF;;AAvDS,CAAZ;AA0DA,eAAeD,KAAf;AACAqB,MAAM,CAACrB,KAAP,GAAeA,KAAf","sourcesContent":["let store = {\r\n  _state: {\r\n    postsData: [{\r\n      id: 1, texthead: 'Топ стрижек 2021', textmain: 'It is a long established fact that a reader will be distracted by the readable content of a page when looking at its layout. The point of using Lorem Ipsum is that....'\r\n    }, {\r\n      id: 2, texthead: 'Выбор кресла для барберов', textmain: 'It is a long established fact that a reader will be distracted by the readable content of a page when looking at its layout. The point of using Lorem Ipsum is that....'\r\n    }, {\r\n      id: 3, texthead: 'Как выбрать “своего” мастера', textmain: 'It is a long established fact that a reader will be distracted by the readable content of a page when looking at its layout. The point of using Lorem Ipsum is that....'\r\n    }],\r\n\r\n    newPostText: 'it-kamasutra'\r\n  },\r\n  _callSubscriber() {\r\n    console.log('state was changed');\r\n  },\r\n\r\n\r\n  getState() {\r\n    return this._state;\r\n  },\r\n  subscribe(observer) {\r\n    this._callSubscriber = observer; // observer - наблюдатель - паттерн\r\n  },\r\n\r\n\r\n  addpost() {\r\n    let newPost = {\r\n      id: 4,\r\n      texthead: this._state.newPostText,\r\n      textmain: \"lorem lalallal\"\r\n    };\r\n    this._state.postsData.push(newPost);\r\n    this._state.newPostText = '';\r\n    this._callSubscriber(this._state);\r\n  },\r\n  updateNewPostText(newText) {\r\n    this._state.newPostText = newText;\r\n    this._callSubscriber(this._state);\r\n  },\r\n\r\n  dispatch(action) { //  { type: 'название действия  например ADD-POST' }\r\n    debugger;\r\n    if (action.type === 'ADD-POST') {\r\n      let newPost = {\r\n        id: 4,\r\n        texthead: this._state.newPostText,\r\n        textmain: \"lorem lalallal\"\r\n      };\r\n      this._state.postsData.push(newPost);\r\n      this._state.newPostText = '';\r\n      this._callSubscriber(this._state);\r\n    } else if (action.type === 'UPDATE-NEW-POST-TEXT') {\r\n      this._state.newPostText = action.newText;\r\n      this._callSubscriber(this._state);\r\n    } \r\n  }\r\n}\r\n\r\nexport default store;\r\nwindow.store = store;\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}