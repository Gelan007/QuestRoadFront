{"ast":null,"code":"import _regeneratorRuntime from\"E:/\\u0423\\u043D\\u0438\\u0432\\u0435\\u0440/3 \\u043A\\u0443\\u0440\\u0441/\\u0410\\u0422\\u0410\\u0420\\u041A/\\u041D\\u043E\\u0432\\u0430\\u044F \\u043F\\u0430\\u043F\\u043A\\u0430 (2)/Yotor/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"E:/\\u0423\\u043D\\u0438\\u0432\\u0435\\u0440/3 \\u043A\\u0443\\u0440\\u0441/\\u0410\\u0422\\u0410\\u0420\\u041A/\\u041D\\u043E\\u0432\\u0430\\u044F \\u043F\\u0430\\u043F\\u043A\\u0430 (2)/Yotor/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"E:/\\u0423\\u043D\\u0438\\u0432\\u0435\\u0440/3 \\u043A\\u0443\\u0440\\u0441/\\u0410\\u0422\\u0410\\u0420\\u041A/\\u041D\\u043E\\u0432\\u0430\\u044F \\u043F\\u0430\\u043F\\u043A\\u0430 (2)/Yotor/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import s from\"./Registration.module.css\";import imagecol from\"./login_image.png\";import{NavLink,useHistory}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Registration(_ref){var setIsLoggedIn=_ref.setIsLoggedIn,isLoggedIn=_ref.isLoggedIn;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),full_name=_useState6[0],setFullName=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),phone=_useState8[0],setPhone=_useState8[1];var history=useHistory();// async function registration(e) {\n//     e.preventDefault();\n//     let result = await fetch(\"https://craftcutstestapiproject20211120225609.azurewebsites.net/api/Customer/RegistrationWeb\", {\n//         method: 'POST',\n//         headers: {\n//             \"Content-Type\": \"application/json\",\n//             \"Accept\": \"application/json\",\n//         },\n//         // body: JSON.stringify({Name: name, Password: Password, Email: Email, Phone: phone, Birthday: birthday}),\n//         body: JSON.stringify({name, Password, Email, phone, birthday}),\n//     });\n//     console.log(result);\n//     console.log(result.status);\n//     if(result.status === 200){\n//         history.push(\"/login\")\n//     }\n//     else if(result.status == 404){\n//         alert(\"Неверная валидация полей\");\n//     }\n//     else if(result.status == 400){\n//         alert(\"Пожалуйста, заполните поля\");\n//     }\n// }\nfunction registration(_x){return _registration.apply(this,arguments);}function _registration(){_registration=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.next=3;return fetch(\"https://localhost:44350/api/Customer/Regist\",{method:'POST',headers:{\"Content-Type\":\"application/json\",\"Accept\":\"application/json\"},body:JSON.stringify({Full_name:full_name,Email:email,Phone:phone,Password:password})});case 3:res=_context.sent;console.log(res);console.log(res.status);if(res.status===200){history.push(\"/login\");}case 7:case\"end\":return _context.stop();}}},_callee);}));return _registration.apply(this,arguments);}return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:s.row,children:[/*#__PURE__*/_jsxs(\"div\",{className:s.col_6,children:[/*#__PURE__*/_jsx(\"li\",{className:s.item}),/*#__PURE__*/_jsxs(\"h5\",{className:s.h5welcome,children:[\"\\u0414\\u043E\\u0431\\u0440\\u043E \\u043F\\u043E\\u0436\\u0430\\u043B\\u043E\\u0432\\u0430\\u0442\\u044C \\u0432 \",/*#__PURE__*/_jsx(\"span\",{className:s.craftcuts_red,children:\"Craft Cuts\"}),/*#__PURE__*/_jsxs(\"h6\",{className:\"mb-5\",children:[\"\\u0423 \\u0432\\u0430\\u0441 \\u0443\\u0436\\u0435 \\u0435\\u0441\\u0442\\u044C \\u0430\\u043A\\u043A\\u0430\\u0443\\u043D\\u0442? \\u0412\\u043E\\u0439\\u0434\\u0438\\u0442\\u0435 \",/*#__PURE__*/_jsx(NavLink,{to:\"/login\",children:\"\\u0437\\u0434\\u0435\\u0441\\u044C\"})]})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:registration,className:s.formControl,children:[/*#__PURE__*/_jsx(\"h1\",{className:s.login,children:\"\\u0417\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\\u0441\\u044F\"}),/*#__PURE__*/_jsxs(\"div\",{className:s.Login,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0432\\u0430\\u0448\\u0435 \\u0438\\u043C\\u044F\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"name\",onChange:function onChange(e){return setFullName(e.target.value);},className:\"w-75\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0432\\u0430\\u0448\\u0443 \\u043F\\u043E\\u0447\\u0442\\u0443\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"mail\",onChange:function onChange(e){return setEmail(e.target.value);},className:\"w-75\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0432\\u0430\\u0448 \\u043D\\u043E\\u043C\\u0435\\u0440 \\u0442\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D\\u0430\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"phone\",onChange:function onChange(e){return setPhone(e.target.value);},className:\"w-75\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\u041F\\u0440\\u0438\\u0434\\u0443\\u043C\\u0430\\u0439\\u0442\\u0435 \\u0441\\u0432\\u043E\\u0439 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"password\",onChange:function onChange(e){return setPassword(e.target.value);},className:\"w-75\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:s.btn_login,children:\"Registration \"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:s.col_6,children:/*#__PURE__*/_jsx(\"div\",{className:s.img_block,children:/*#__PURE__*/_jsx(\"img\",{className:s.imagecol,src:imagecol,alt:\"image_left\"})})})]})});}","map":{"version":3,"sources":["E:/Универ/3 курс/АТАРК/Новая папка (2)/Yotor/src/components/Registration/Registration.jsx"],"names":["React","useState","s","imagecol","NavLink","useHistory","Registration","setIsLoggedIn","isLoggedIn","email","setEmail","password","setPassword","full_name","setFullName","phone","setPhone","history","registration","e","preventDefault","fetch","method","headers","body","JSON","stringify","Full_name","Email","Phone","Password","res","console","log","status","push","row","col_6","item","h5welcome","craftcuts_red","formControl","login","Login","target","value","btn_login","img_block"],"mappings":"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","sourcesContent":["import React, {useState} from \"react\";\r\nimport s from \"./Registration.module.css\";\r\nimport imagecol from \"./login_image.png\";\r\nimport {NavLink, useHistory} from \"react-router-dom\";\r\n\r\nexport default function Registration({setIsLoggedIn, isLoggedIn}) {\r\n    const [email, setEmail] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [full_name, setFullName] = useState(\"\");\r\n    const [phone, setPhone] = useState(\"\");\r\n    const history = useHistory();\r\n\r\n\r\n    // async function registration(e) {\r\n    //     e.preventDefault();\r\n    //     let result = await fetch(\"https://craftcutstestapiproject20211120225609.azurewebsites.net/api/Customer/RegistrationWeb\", {\r\n    //         method: 'POST',\r\n    //         headers: {\r\n    //             \"Content-Type\": \"application/json\",\r\n    //             \"Accept\": \"application/json\",\r\n    //         },\r\n    //         // body: JSON.stringify({Name: name, Password: Password, Email: Email, Phone: phone, Birthday: birthday}),\r\n    //         body: JSON.stringify({name, Password, Email, phone, birthday}),\r\n    //     });\r\n    //     console.log(result);\r\n    //     console.log(result.status);\r\n    //     if(result.status === 200){\r\n    //         history.push(\"/login\")\r\n    //     }\r\n    //     else if(result.status == 404){\r\n    //         alert(\"Неверная валидация полей\");\r\n    //     }\r\n    //     else if(result.status == 400){\r\n    //         alert(\"Пожалуйста, заполните поля\");\r\n    //     }\r\n    // }\r\n\r\n    async function registration(e) {\r\n        e.preventDefault();\r\n        let res = await fetch(\"https://localhost:44350/api/Customer/Regist\", {\r\n            method: 'POST',\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n                \"Accept\": \"application/json\",\r\n            },\r\n            body: JSON.stringify({Full_name: full_name, Email: email, Phone: phone, Password: password}),\r\n        });\r\n        console.log(res);\r\n        console.log(res.status);\r\n        if (res.status === 200) {\r\n            history.push(\"/login\")\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div className={s.row}>\r\n                <div className={s.col_6}>\r\n                    <li className={s.item}>\r\n                    </li>\r\n                    <h5 className={s.h5welcome}>Добро пожаловать в <span className={s.craftcuts_red}>Craft Cuts</span>\r\n                        <h6 className = \"mb-5\">У вас уже есть аккаунт? Войдите <NavLink to=\"/login\">здесь</NavLink></h6>\r\n                    </h5>\r\n                    <form onSubmit={registration} className={s.formControl}>\r\n                        <h1 className={s.login}>Зарегистрироваться</h1>\r\n                        <div className={s.Login}>\r\n                            <div className=\"mb-3\">\r\n                                <h4>Введите ваше имя</h4>\r\n                                <input type=\"text\" placeholder=\"name\" onChange={(e)=>setFullName(e.target.value)} className=\"w-75\" />\r\n                            </div>\r\n                            <div className=\"mb-4\">\r\n                                <h4>Введите вашу почту</h4>\r\n                                <input type=\"email\" placeholder=\"mail\" onChange={(e)=>setEmail(e.target.value)} className=\"w-75\" />\r\n                            </div>\r\n                            <div className=\"mb-4\">\r\n                                <h4>Введите ваш номер телефона</h4>\r\n                                <input type=\"text\" placeholder=\"phone\" onChange={(e)=>setPhone(e.target.value)} className=\"w-75\" />\r\n                            </div>\r\n                            <div className=\"mb-4\">\r\n                                <h4>Придумайте свой пароль</h4>\r\n                                <input type=\"password\" placeholder=\"password\" onChange={(e)=>setPassword(e.target.value)} className=\"w-75\" />\r\n                            </div>\r\n                            <button type=\"submit\" className={s.btn_login}>Registration </button>\r\n                            {/*<button onClick={registration} className={s.btn_login}>Registration</button>*/}\r\n                            {/*<NavLink to = \"/cabinet\" block size=\"lg\" className={s.btn_login}>*/}\r\n                            {/*    Login*/}\r\n                            {/*</NavLink>*/}\r\n\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n                <div className={s.col_6}>\r\n                    <div className={s.img_block}>\r\n                        <img className={s.imagecol} src={imagecol} alt=\"image_left\"></img></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}"]},"metadata":{},"sourceType":"module"}