{"ast":null,"code":"import _regeneratorRuntime from\"E:/\\u0423\\u043D\\u0438\\u0432\\u0435\\u0440/3 \\u043A\\u0443\\u0440\\u0441/\\u0410\\u0422\\u0410\\u0420\\u041A/\\u041D\\u043E\\u0432\\u0430\\u044F \\u043F\\u0430\\u043F\\u043A\\u0430 (2)/Yotor/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"E:/\\u0423\\u043D\\u0438\\u0432\\u0435\\u0440/3 \\u043A\\u0443\\u0440\\u0441/\\u0410\\u0422\\u0410\\u0420\\u041A/\\u041D\\u043E\\u0432\\u0430\\u044F \\u043F\\u0430\\u043F\\u043A\\u0430 (2)/Yotor/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _toConsumableArray from\"E:/\\u0423\\u043D\\u0438\\u0432\\u0435\\u0440/3 \\u043A\\u0443\\u0440\\u0441/\\u0410\\u0422\\u0410\\u0420\\u041A/\\u041D\\u043E\\u0432\\u0430\\u044F \\u043F\\u0430\\u043F\\u043A\\u0430 (2)/Yotor/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"E:/\\u0423\\u043D\\u0438\\u0432\\u0435\\u0440/3 \\u043A\\u0443\\u0440\\u0441/\\u0410\\u0422\\u0410\\u0420\\u041A/\\u041D\\u043E\\u0432\\u0430\\u044F \\u043F\\u0430\\u043F\\u043A\\u0430 (2)/Yotor/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import s from\"./Review.module.css\";import pic1 from\"./pic1.png\";import hotline from\"./Shape.png\";import hotlig from\"./Path.png\";import axios from'axios';import{FaStar}from\"react-icons/fa\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var count=0;export default function Review(){var _useState=useState([false,false,false,false,false]),_useState2=_slicedToArray(_useState,2),clicked=_useState2[0],setClicked=_useState2[1];var handleStarClick=function handleStarClick(e,index){e.preventDefault();var clickStates=_toConsumableArray(clicked);for(var i=0;i<5;i++){if(i<=index){clickStates[i]=true;count++;}else{clickStates[i]=false;}}setClicked(clickStates);};function myReview(_x){return _myReview.apply(this,arguments);}function _myReview(){_myReview=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var obj,id,feedback,item,result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();obj=JSON.parse(localStorage.getItem('user-info'));id=obj['customer_id'];feedback=document.getElementById('feedback_id').value;item={id:id,feedback:feedback,count:count};_context.next=7;return fetch(\"https://craftcutstestapiproject20211120225609.azurewebsites.net/api/Review/Create\",{method:'POST',headers:{\"Content-Type\":\"application/json\",\"Accept\":\"application/json\"},body:JSON.stringify({Customer_Id:id,FeedBack:feedback,Stars:count})});case 7:result=_context.sent;console.log(item);count=0;case 10:case\"end\":return _context.stop();}}},_callee);}));return _myReview.apply(this,arguments);}var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),posts=_useState4[0],setPosts=_useState4[1];useEffect(function(){axios.get(\"https://craftcutstestapiproject20211120225609.azurewebsites.net/api/Review/Statistic\").then(function(response){console.log(response);setPosts(response.data);});});return/*#__PURE__*/_jsxs(\"div\",{className:s.review,children:[/*#__PURE__*/_jsx(\"h1\",{className:s.h1,children:\"\\u041E\\u0442\\u0437\\u044B\\u0432\\u044B \\u043F\\u0440\\u043E \\u0431\\u0430\\u0440\\u0431\\u0435\\u0440\\u0448\\u043E\\u043F\"}),/*#__PURE__*/_jsxs(\"div\",{className:s.row,children:[/*#__PURE__*/_jsx(\"div\",{className:s.col6,children:/*#__PURE__*/_jsxs(\"div\",{className:s.blockleft,children:[/*#__PURE__*/_jsx(\"h2\",{className:\"ml-3 pt-3 \",children:\"\\u0412\\u0441\\u0435 \\u043E\\u0442\\u0437\\u044B\\u0432\\u044B\"}),/*#__PURE__*/_jsx(\"div\",{className:s.lefttop,children:/*#__PURE__*/_jsx(\"div\",{className:s.scroll,children:posts.map(function(posts){return/*#__PURE__*/_jsxs(\"div\",{className:s.row1,children:[/*#__PURE__*/_jsxs(\"div\",{className:s.namereite,children:[/*#__PURE__*/_jsxs(\"h6\",{className:s.namerewiew,children:[\" \\u0418\\u043C\\u044F: \",posts.name]}),/*#__PURE__*/_jsxs(\"div\",{className:s.stars,children:[posts.stars,\" / 5\"]})]}),/*#__PURE__*/_jsxs(\"h6\",{className:s.textreview,children:[\" \\u041E\\u0442\\u0437\\u044B\\u0432: \",posts.feedback]})]},posts.id);})})})]})}),/*#__PURE__*/_jsx(\"div\",{className:s.col6,children:/*#__PURE__*/_jsxs(\"div\",{className:s.blockright,children:[/*#__PURE__*/_jsx(\"h3\",{className:s.getreview,children:\"\\u041E\\u0441\\u0442\\u0430\\u0432\\u044C\\u0442\\u0435 \\u0441\\u0432\\u043E\\u0439 \\u043E\\u0442\\u0437\\u044B\\u0432 \\u0437\\u0434\\u0435\\u0441\\u044C!\"}),/*#__PURE__*/_jsx(\"h6\",{className:s.h6login,children:\"\\u0427\\u0442\\u043E\\u0431\\u044B \\u043E\\u0441\\u0442\\u0430\\u0432\\u0438\\u0442\\u044C \\u0441\\u0432\\u043E\\u0439 \\u043E\\u0442\\u0437\\u044B\\u0432 \\u0432\\u044B \\u0434\\u043E\\u043B\\u0436\\u043D\\u044B \\u0432\\u043E\\u0439\\u0442\\u0438 \\u0432 \\u0430\\u043A\\u043A\\u0430\\u0443\\u043D\\u0442\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{id:\"feedback_id\",className:s.inputlogin,input:true,type:\"text\",placeholder:\"\\u041E\\u0442\\u0437\\u044B\\u0432\"})}),/*#__PURE__*/_jsx(\"div\",{className:s.rating,children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(FaStar,{onClick:function onClick(e){return handleStarClick(e,0);},className:clicked[0]?s.clickedstar:null}),/*#__PURE__*/_jsx(FaStar,{onClick:function onClick(e){return handleStarClick(e,1);},className:clicked[1]?s.clickedstar:null}),/*#__PURE__*/_jsx(FaStar,{onClick:function onClick(e){return handleStarClick(e,2);},className:clicked[2]?s.clickedstar:null}),/*#__PURE__*/_jsx(FaStar,{onClick:function onClick(e){return handleStarClick(e,3);},className:clicked[3]?s.clickedstar:null}),/*#__PURE__*/_jsx(FaStar,{onClick:function onClick(e){return handleStarClick(e,4);},className:clicked[4]?s.clickedstar:null})]})}),/*#__PURE__*/_jsx(\"form\",{onSubmit:myReview,children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:s.send,children:\"\\u041E\\u0442\\u043F\\u0440\\u0430\\u0432\\u0438\\u0442\\u044C\"})})]})})]})]});}","map":{"version":3,"sources":["E:/Универ/3 курс/АТАРК/Новая папка (2)/Yotor/src/components/Review/Review.jsx"],"names":["React","useEffect","useState","s","pic1","hotline","hotlig","axios","FaStar","count","Review","clicked","setClicked","handleStarClick","e","index","preventDefault","clickStates","i","myReview","obj","JSON","parse","localStorage","getItem","id","feedback","document","getElementById","value","item","fetch","method","headers","body","stringify","Customer_Id","FeedBack","Stars","result","console","log","posts","setPosts","get","then","response","data","review","h1","row","col6","blockleft","lefttop","scroll","map","row1","namereite","namerewiew","name","stars","textreview","blockright","getreview","h6login","inputlogin","rating","clickedstar","send"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport s from \"./Review.module.css\";\r\nimport pic1 from \"./pic1.png\";\r\nimport hotline from \"./Shape.png\";\r\nimport hotlig from \"./Path.png\";\r\nimport axios from 'axios';\r\nimport { FaStar } from \"react-icons/fa\";\r\n\r\nlet count = 0;\r\nexport default function Review() {\r\n\r\n    \r\n    const [clicked, setClicked] = useState([false, false, false, false, false]);  \r\n    const handleStarClick = (e, index) => {\r\n      e.preventDefault();\r\n      let clickStates = [...clicked];     \r\n      for (let i = 0; i < 5; i++) {\r\n        if (i <= index) {\r\n            clickStates[i] = true;\r\n            count++;\r\n        }\r\n        else {\r\n            clickStates[i] = false;\r\n        }\r\n      }\r\n      setClicked(clickStates);\r\n    };\r\n\r\n    async function myReview(e) {        \r\n        e.preventDefault();       \r\n        let obj = JSON.parse(localStorage.getItem('user-info'));\r\n        let id = obj['customer_id'];\r\n        let feedback = document.getElementById('feedback_id').value;\r\n        let item = {id, feedback, count};\r\n        let result = await fetch(\"https://craftcutstestapiproject20211120225609.azurewebsites.net/api/Review/Create\", {\r\n            method: 'POST',\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n                \"Accept\": \"application/json\",\r\n            },\r\n            body: JSON.stringify({Customer_Id: id, FeedBack: feedback, Stars: count}),\r\n        });\r\n        console.log(item);\r\n        count = 0;\r\n    }\r\n\r\n    const [posts, setPosts] = useState([])\r\n    useEffect(() => {\r\n        axios\r\n            .get(\"https://craftcutstestapiproject20211120225609.azurewebsites.net/api/Review/Statistic\")\r\n            .then(\r\n                  (response) => {\r\n                    console.log(response)\r\n                    setPosts(response.data)\r\n                })\r\n    })\r\n\r\n    return (\r\n        <div className={s.review}>\r\n            <h1 className={s.h1}>Отзывы про барбершоп</h1>\r\n            <div className={s.row}>\r\n                <div className={s.col6}>\r\n                    <div className={s.blockleft}>\r\n                    <h2 className = \"ml-3 pt-3 \">Все отзывы</h2>\r\n                        <div className={s.lefttop}>\r\n\r\n                        <div className = {s.scroll}>{posts.map(posts =><div key ={posts.id} className={s.row1}>\r\n                               <div className = {s.namereite}>\r\n                                   <h6 className={s.namerewiew}> Имя: {posts.name}</h6>\r\n                                   <div className={s.stars}>{posts.stars} / 5</div>\r\n                                              </div>             \r\n                                   <h6 className={s.textreview}> Отзыв: {posts.feedback}</h6>\r\n                                </div> )}\r\n                            </div>\r\n                        </div>\r\n                        \r\n                    </div>\r\n                </div>\r\n                <div className={s.col6}>\r\n                    <div className={s.blockright}>\r\n                        <h3 className={s.getreview}>Оставьте свой отзыв здесь!</h3>\r\n                        <h6 className = {s.h6login}>Чтобы оставить свой отзыв вы должны войти в аккаунт</h6>\r\n                        <div>\r\n                            <input id = \"feedback_id\" className = {s.inputlogin}  input type = \"text\" placeholder = \"Отзыв\"  />\r\n                        </div>\r\n                        <div className={s.rating}>\r\n                          <div>\r\n                            <FaStar\r\n                                onClick={(e) => handleStarClick(e, 0)}\r\n                                className={clicked[0] ? s.clickedstar : null}\r\n                            />\r\n                            <FaStar\r\n                                onClick={(e) => handleStarClick(e, 1)}\r\n                                className={clicked[1] ? s.clickedstar : null}\r\n                            />\r\n                            <FaStar\r\n                                onClick={(e) => handleStarClick(e, 2)}\r\n                                className={clicked[2] ? s.clickedstar : null}\r\n                            />\r\n                            <FaStar\r\n                                onClick={(e) => handleStarClick(e, 3)}\r\n                                className={clicked[3] ? s.clickedstar : null}\r\n                            />\r\n                            <FaStar\r\n                                onClick={(e) => handleStarClick(e, 4)}\r\n                                className={clicked[4] ? s.clickedstar : null}\r\n                            />\r\n                            </div>\r\n                          </div> \r\n                       <form onSubmit={myReview}>  \r\n                       <button type=\"submit\" className = {s.send}>Отправить</button>\r\n                       </form>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}