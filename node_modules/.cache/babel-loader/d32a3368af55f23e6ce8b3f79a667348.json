{"ast":null,"code":"var _jsxFileName = \"E:\\\\\\u0423\\u043D\\u0438\\u0432\\u0435\\u0440\\\\3 \\u043A\\u0443\\u0440\\u0441\\\\\\u0410\\u0412\\u041F\\u0417\\\\\\u041F\\u0440\\u043E\\u0435\\u043A\\u0442\\\\CraftCuts\\\\Rep\\\\mainFront2\\\\CraftCuts_Front\\\\src\\\\components\\\\OnlineBooking\\\\EndBooking\\\\EndBooking.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport s from \"./EndBooking.module.css\";\nimport { NavLink, useHistory } from \"react-router-dom\";\nimport { render } from \"@testing-library/react\";\nimport { propTypes } from \"react-bootstrap/esm/Image\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function EndBooking({\n  Email\n}) {\n  _s();\n\n  let serviceName = localStorage.getItem('bookingServiceName-info');\n  let servicePrice = localStorage.getItem('bookingServicePrice-info');\n  let barber = localStorage.getItem('bookingBarber-info');\n  let date = localStorage.getItem('bookingDate-info');\n  let obj = JSON.parse(localStorage.getItem('user-info'));\n  let email = obj['email'];\n  const [price, setPrice] = useState('');\n  const [customerEmail, setCustomerEmail] = useState(\"\");\n  const [hookServiceName, setHookServiceName] = useState(\"\");\n  const [hookDate, setHookDate] = useState(\"\");\n  const [promocode, setPromocode] = useState(\"\");\n  const history = useHistory();\n  setCustomerEmail(Email);\n  setHookServiceName(serviceName);\n  setHookDate(date);\n\n  async function BookingApi(e) {\n    e.preventDefault();\n    let result = await fetch(\"https://craftcutstestapiproject20211120225609.azurewebsites.net/api/Booking\", {\n      method: 'POST',\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Accept\": \"application/json\"\n      },\n      body: JSON.stringify({\n        barberName,\n        Email,\n        serviceName,\n        date\n      })\n    });\n    console.log(result);\n    console.log(result.status);\n    console.log({\n      barberName,\n      Email,\n      serviceName,\n      date\n    });\n    result = await result.json();\n    localStorage.setItem(\"booking-info\", JSON.stringify(result)); // localStorage.setItem('isLoggedIn', true);\n    // setIsLoggedIn(true);\n\n    history.push(\"/endbooking\");\n    console.log(result);\n    console.log(result.status);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: s.doneBlock,\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: s.we,\n      children: \"\\u0412\\u044B \\u0443\\u0441\\u043F\\u0435\\u0448\\u043D\\u043E \\u0437\\u0430\\u043F\\u0438\\u0441\\u0430\\u043B\\u0438\\u0441\\u044C!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: s.table,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: s.headtable,\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: s.ht_text,\n            children: \"\\u041F\\u0440\\u043E\\u0446\\u0435\\u0434\\u0443\\u0440\\u0430\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            className: s.ht_text,\n            children: \"\\u041C\\u0430\\u0441\\u0442\\u0435\\u0440\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            className: s.ht_text,\n            children: \"\\u0412\\u0440\\u0435\\u043C\\u044F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            className: s.ht_text,\n            children: \"\\u0426\\u0435\\u043D\\u0430\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: s.data,\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            className: s.type,\n            children: serviceName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n            className: s.name,\n            children: barber\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n            className: s.time,\n            children: date\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n            className: s.price,\n            children: [a, /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\u0433\\u0440\\u043D\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 50\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: s.promo,\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"\\u0423 \\u0432\\u0430\\u0441 \\u0435\\u0441\\u0442\\u044C \\u043F\\u0440\\u043E\\u043C\\u043E\\u043A\\u043E\\u0434?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n          children: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0435\\u0433\\u043E \\u0437\\u0434\\u0435\\u0441\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"\\u043F\\u0440\\u043E\\u043C\\u043E\\u043A\\u043E\\u0434\",\n            onChange: e => setPrice(e.target.value),\n            className: s.input_promo1\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: promoprice(),\n            className: s.btn_accept,\n            children: \"\\u041F\\u0440\\u0438\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: s.goback_block,\n        children: /*#__PURE__*/_jsxDEV(NavLink, {\n          className: s.goback,\n          to: \"/cabinet\",\n          children: \"\\u0412\\u0435\\u0440\\u043D\\u0443\\u0442\\u044C\\u0441\\u044F \\u0432 \\u043B\\u0438\\u0447\\u043D\\u044B\\u0439 \\u043A\\u0430\\u0431\\u0438\\u043D\\u0435\\u0442\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 63\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 9\n  }, this);\n}\n\n_s(EndBooking, \"89xYP9P+TGV44plip7DgJdJaRSo=\", false, function () {\n  return [useHistory];\n});\n\n_c = EndBooking;\n\nvar _c;\n\n$RefreshReg$(_c, \"EndBooking\");","map":{"version":3,"sources":["E:/Универ/3 курс/АВПЗ/Проект/CraftCuts/Rep/mainFront2/CraftCuts_Front/src/components/OnlineBooking/EndBooking/EndBooking.jsx"],"names":["React","useState","s","NavLink","useHistory","render","propTypes","EndBooking","Email","serviceName","localStorage","getItem","servicePrice","barber","date","obj","JSON","parse","email","price","setPrice","customerEmail","setCustomerEmail","hookServiceName","setHookServiceName","hookDate","setHookDate","promocode","setPromocode","history","BookingApi","e","preventDefault","result","fetch","method","headers","body","stringify","barberName","console","log","status","json","setItem","push","doneBlock","we","table","headtable","ht_text","data","type","name","time","a","promo","target","value","input_promo1","promoprice","btn_accept","goback_block","goback"],"mappings":"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","sourcesContent":["import React, {useState} from \"react\";\r\nimport s from \"./EndBooking.module.css\";\r\nimport {NavLink, useHistory} from \"react-router-dom\";\r\nimport { render } from \"@testing-library/react\";\r\nimport { propTypes } from \"react-bootstrap/esm/Image\";\r\n\r\n\r\nexport default function EndBooking ({Email}) {\r\n\r\n    let serviceName = localStorage.getItem('bookingServiceName-info');\r\n    let servicePrice = localStorage.getItem('bookingServicePrice-info');\r\n    let barber = localStorage.getItem('bookingBarber-info');\r\n    let date = localStorage.getItem('bookingDate-info');\r\n    let obj = JSON.parse(localStorage.getItem('user-info'));\r\n    let email = obj['email'];\r\n\r\n\r\n\r\n    const [price, setPrice] = useState('');\r\n    const [customerEmail, setCustomerEmail] = useState(\"\");\r\n    const [hookServiceName, setHookServiceName] = useState(\"\");\r\n    const [hookDate, setHookDate] = useState(\"\");\r\n    const [promocode, setPromocode] = useState(\"\");\r\n    const history = useHistory();\r\n\r\n    setCustomerEmail(Email);\r\n    setHookServiceName(serviceName);\r\n    setHookDate(date);\r\n\r\n\r\n    async function BookingApi(e) {\r\n        e.preventDefault();\r\n        let result = await fetch(\"https://craftcutstestapiproject20211120225609.azurewebsites.net/api/Booking\", {\r\n            method: 'POST',\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n                \"Accept\": \"application/json\",\r\n            },\r\n            body: JSON.stringify({barberName, Email, serviceName, date}),\r\n        });\r\n        console.log(result);\r\n        console.log(result.status);\r\n\r\n        console.log({barberName, Email, serviceName, date});\r\n        result = await result.json();\r\n        localStorage.setItem(\"booking-info\", JSON.stringify(result));\r\n        // localStorage.setItem('isLoggedIn', true);\r\n        // setIsLoggedIn(true);\r\n        history.push(\"/endbooking\")\r\n        console.log(result);\r\n        console.log(result.status);\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    return (\r\n        <div className = {s.doneBlock}>\r\n            <h1 className = {s.we}>Вы успешно записались!</h1><div>\r\n            <div className = {s.table}>\r\n                <div className = {s.headtable}>\r\n                    <h4 className = {s.ht_text}>Процедура</h4>\r\n                    <h4 className = {s.ht_text}>Мастер</h4>\r\n                    <h4 className = {s.ht_text}>Время</h4>\r\n                    <h4 className = {s.ht_text}>Цена</h4>\r\n                </div>\r\n                <div className = {s.data}>\r\n                    <h5 className = {s.type}>{serviceName}</h5>\r\n                    <h5 className = {s.name}>{barber}</h5>\r\n                    <h5 className = {s.time}>{date}</h5>\r\n                    <h5 className = {s.price}>{a}<span>грн</span></h5>\r\n                </div>\r\n            </div>\r\n            <div className = {s.promo}>\r\n                <h4>У вас есть промокод?</h4>\r\n                <h6>Введите его здесь</h6>\r\n                <form>\r\n                    <input type = \"text\" placeholder = \"промокод\" onChange={(e)=>setPrice(e.target.value)} className = {s.input_promo1}></input>\r\n                    <button onClick = {promoprice()} className={s.btn_accept}>Применить</button>\r\n                </form>\r\n            </div>\r\n            <div className = {s.goback_block}>\r\n                <NavLink className = {s.goback} to = \"/cabinet\">Вернуться в личный кабинет</NavLink>\r\n            </div>\r\n        </div>\r\n        </div>\r\n    );}"]},"metadata":{},"sourceType":"module"}