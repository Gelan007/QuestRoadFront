{"ast":null,"code":"var _jsxFileName = \"E:\\\\\\u0423\\u043D\\u0438\\u0432\\u0435\\u0440\\\\3 \\u043A\\u0443\\u0440\\u0441\\\\\\u0410\\u0422\\u0410\\u0420\\u041A\\\\Front\\\\src\\\\components\\\\OnlineBooking\\\\Booking.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport s from \"./Booking.module.css\";\nimport { NavLink, useHistory } from \"react-router-dom\";\nimport Header from \"../Header_Footer/Header\";\nimport pic1 from \"./master.png\";\nimport pic2 from \"./services.png\";\nimport { CalendarComponent } from \"@syncfusion/ej2-react-calendars\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Booking() {\n  _s();\n\n  // const [startDate, setStartDate] = useState(\"\");\n  // const [endDate, setEndDate] = useState(\"\");\n  // const [startAddress, setStartAddress] = useState(\"\");\n  // const [endAddress, setEndAddress] = useState(\"\");\n  // const [carName, setCarName] = useState(\"\");\n  // const [price, setPrice] = useState(\"100\");\n  // const[cars, setCars] = useState([]);\n  // const[carByParam, setCarByParams] = useState([]);\n  const [questName, setQuestName] = useState(0);\n  const [questId, setQuestId] = useState(0);\n  const [quests, setQuests] = useState([]);\n  const [teamName, setTeamName] = useState(\"\");\n  const [countOfUsers, setCountOfUsers] = useState(0);\n  const [description, setDescription] = useState(\"\");\n  const [date, setDate] = useState(\"\");\n  useEffect(() => {\n    axios.get(\"https://localhost:44332/api/Quest\", {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Accept\": \"application/json\",\n        \"Authorization\": \"Bearer \" + localStorage.getItem(\"tok\")\n      }\n    }).then(respon => {\n      console.log(respon);\n      console.log(respon.data);\n      setQuests(respon.data);\n    });\n  }, []);\n\n  async function createBooking(e) {\n    e.preventDefault();\n    let res = await fetch(\"https://localhost:44332/api/Booking/Form\", {\n      method: 'POST',\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Accept\": \"application/json\",\n        \"Authorization\": \"Bearer \" + localStorage.getItem(\"tok\")\n      },\n      body: JSON.stringify({\n        Quest_id: questId,\n        TeamName: teamName,\n        CountOfUsers: countOfUsers,\n        Description: description,\n        Date: date\n      })\n    });\n\n    if (res.status == 200) {\n      alert(\"Успешно\");\n    } else {\n      alert(\"Введите корректные данные\");\n    }\n\n    console.log(res);\n    console.log(res.status);\n  } // console.log(quests);\n\n\n  console.log(\"Айди квеста:\");\n  console.log(questId);\n  console.log(teamName);\n  console.log(countOfUsers);\n  console.log(description);\n  console.log(date);\n  let id = 0;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: s.booking,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: s.container,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: s.h1Online,\n        children: \"\\u041E\\u043D\\u043B\\u0430\\u0439\\u043D \\u0431\\u0440\\u043E\\u043D\\u044E\\u0432\\u0430\\u043D\\u043D\\u044F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 18\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: s.h3Choose,\n        children: \"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u043D\\u0435\\u043E\\u0431\\u0445\\u043E\\u0434\\u0438\\u043C\\u044B\\u0435 \\u0432\\u0430\\u0440\\u0438\\u0430\\u043D\\u0442\\u044B:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: s.container_choose,\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: createBooking,\n          className: s.formControl,\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: s.h4choose,\n            children: \"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u0434\\u0430\\u0442\\u0443\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-4\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              onChange: e => {\n                const selectedDate = e.target.value;\n                setDate(selectedDate);\n                console.log(date);\n              },\n              type: \"datetime-local\",\n              placeholder: \"date\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            className: s.h4choose,\n            children: \"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u043D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u043A\\u043E\\u043C\\u0430\\u043D\\u0434\\u044B\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"form\", {\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                placeholder: \"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u043A\\u043E\\u043C\\u0430\\u043D\\u0434\\u044B\",\n                onChange: e => setTeamName(e.target.value),\n                className: s.input_promo1\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 101,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            className: s.h4choose,\n            children: \"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u043A\\u043E\\u043B\\u0438\\u0447\\u0435\\u0441\\u0442\\u0432\\u043E \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u0435\\u0439\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"form\", {\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                placeholder: \"\\u041A\\u043E\\u043B\\u0438\\u0447\\u0435\\u0441\\u0442\\u0432\\u043E \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u0435\\u0439\",\n                onChange: e => setCountOfUsers(e.target.value),\n                className: s.input_promo1\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            className: s.h4choose,\n            children: \"\\u041E\\u0441\\u0442\\u0430\\u0432\\u0438\\u0442\\u044C \\u043A\\u043E\\u043C\\u043C\\u0435\\u043D\\u0442\\u0430\\u0440\\u0438\\u0439\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"form\", {\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                placeholder: \"\\u043A\\u043E\\u043C\\u043C\\u0435\\u043D\\u0442\\u0430\\u0440\\u0438\\u0439\",\n                onChange: e => setDescription(e.target.value),\n                className: s.input_promo1\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 113,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            className: s.h4choose,\n            children: \"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u043D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u043A\\u0432\\u0435\\u0441\\u0442\\u0430\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            onChange: e => {\n              const selectedQuest = e.target.value;\n              setQuestId(selectedQuest);\n            },\n            children: quests.map(quests => /*#__PURE__*/_jsxDEV(\"option\", {\n              name: quests.quest_id,\n              value: quests.quest_id,\n              children: quests.name\n            }, quests.name, false, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 33\n            }, this))\n          }, quests.quest_id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: s.btn_login,\n              children: \"\\u0417\\u0430\\u0431\\u0440\\u043E\\u043D\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Booking, \"2lutCZ5f+zGXHZ2KvZBazbxCHqs=\");\n\n_c = Booking;\n\nvar _c;\n\n$RefreshReg$(_c, \"Booking\");","map":{"version":3,"sources":["E:/Универ/3 курс/АТАРК/Front/src/components/OnlineBooking/Booking.jsx"],"names":["React","useEffect","useState","s","NavLink","useHistory","Header","pic1","pic2","CalendarComponent","axios","Booking","questName","setQuestName","questId","setQuestId","quests","setQuests","teamName","setTeamName","countOfUsers","setCountOfUsers","description","setDescription","date","setDate","get","headers","localStorage","getItem","then","respon","console","log","data","createBooking","e","preventDefault","res","fetch","method","body","JSON","stringify","Quest_id","TeamName","CountOfUsers","Description","Date","status","alert","id","booking","container","h1Online","h3Choose","container_choose","formControl","h4choose","selectedDate","target","value","input_promo1","selectedQuest","map","quest_id","name","btn_login"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,QAA1B,QAAyC,OAAzC;AACA,OAAOC,CAAP,MAAc,sBAAd;AACA,SAAQC,OAAR,EAAiBC,UAAjB,QAAkC,kBAAlC;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,OAAOC,IAAP,MAAiB,cAAjB;AACA,OAAOC,IAAP,MAAiB,gBAAjB;AACA,SAASC,iBAAT,QAAkC,iCAAlC;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAGA,eAAe,SAASC,OAAT,GAAmB;AAAA;;AAE9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,QAAK,CAACC,SAAD,EAAYC,YAAZ,IAA4BX,QAAQ,CAAC,CAAD,CAAzC;AACA,QAAK,CAACY,OAAD,EAAUC,UAAV,IAAwBb,QAAQ,CAAC,CAAD,CAArC;AACA,QAAK,CAACc,MAAD,EAASC,SAAT,IAAsBf,QAAQ,CAAC,EAAD,CAAnC;AACA,QAAM,CAACgB,QAAD,EAAWC,WAAX,IAA0BjB,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACkB,YAAD,EAAeC,eAAf,IAAkCnB,QAAQ,CAAC,CAAD,CAAhD;AACA,QAAM,CAACoB,WAAD,EAAcC,cAAd,IAAgCrB,QAAQ,CAAC,EAAD,CAA9C;AACA,QAAM,CAACsB,IAAD,EAAOC,OAAP,IAAkBvB,QAAQ,CAAC,EAAD,CAAhC;AAIAD,EAAAA,SAAS,CAAC,MAAM;AACZS,IAAAA,KAAK,CACAgB,GADL,CACS,mCADT,EAC6C;AACrCC,MAAAA,OAAO,EAAC;AACJ,wBAAgB,kBADZ;AAEJ,kBAAU,kBAFN;AAGJ,yBAAiB,YAAWC,YAAY,CAACC,OAAb,CAAqB,KAArB;AAHxB;AAD6B,KAD7C,EAQKC,IARL,CASSC,MAAD,IAAY;AACRC,MAAAA,OAAO,CAACC,GAAR,CAAYF,MAAZ;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYF,MAAM,CAACG,IAAnB;AACAjB,MAAAA,SAAS,CAACc,MAAM,CAACG,IAAR,CAAT;AAAuB,KAZnC;AAaH,GAdQ,EAcP,EAdO,CAAT;;AAiBA,iBAAeC,aAAf,CAA6BC,CAA7B,EAA+B;AAC1BA,IAAAA,CAAC,CAACC,cAAF;AAED,QAAIC,GAAG,GAAG,MAAMC,KAAK,CAAC,0CAAD,EAA6C;AAC9DC,MAAAA,MAAM,EAAE,MADsD;AAE9Db,MAAAA,OAAO,EAAE;AACL,wBAAgB,kBADX;AAEL,kBAAU,kBAFL;AAGL,yBAAiB,YAAWC,YAAY,CAACC,OAAb,CAAqB,KAArB;AAHvB,OAFqD;AAO9DY,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAACC,QAAAA,QAAQ,EAAE9B,OAAX;AAAoB+B,QAAAA,QAAQ,EAAC3B,QAA7B;AAAsC4B,QAAAA,YAAY,EAAC1B,YAAnD;AAAgE2B,QAAAA,WAAW,EAACzB,WAA5E;AAAyF0B,QAAAA,IAAI,EAACxB;AAA9F,OAAf;AAPwD,KAA7C,CAArB;;AASA,QAAGc,GAAG,CAACW,MAAJ,IAAY,GAAf,EAAmB;AACfC,MAAAA,KAAK,CAAC,SAAD,CAAL;AACH,KAFD,MAGI;AACAA,MAAAA,KAAK,CAAC,2BAAD,CAAL;AACH;;AACFlB,IAAAA,OAAO,CAACC,GAAR,CAAYK,GAAZ;AACAN,IAAAA,OAAO,CAACC,GAAR,CAAYK,GAAG,CAACW,MAAhB;AACF,GA1D6B,CA4D9B;;;AACAjB,EAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ;AACAD,EAAAA,OAAO,CAACC,GAAR,CAAYnB,OAAZ;AACAkB,EAAAA,OAAO,CAACC,GAAR,CAAYf,QAAZ;AACAc,EAAAA,OAAO,CAACC,GAAR,CAAYb,YAAZ;AACAY,EAAAA,OAAO,CAACC,GAAR,CAAYX,WAAZ;AACAU,EAAAA,OAAO,CAACC,GAAR,CAAYT,IAAZ;AAGA,MAAI2B,EAAE,GAAG,CAAT;AAGA,sBACI;AAAK,IAAA,SAAS,EAAEhD,CAAC,CAACiD,OAAlB;AAAA,2BACI;AAAK,MAAA,SAAS,EAAEjD,CAAC,CAACkD,SAAlB;AAAA,8BACK;AAAI,QAAA,SAAS,EAAElD,CAAC,CAACmD,QAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADL,eAEI;AAAI,QAAA,SAAS,EAAEnD,CAAC,CAACoD,QAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFJ,eAGI;AAAK,QAAA,SAAS,EAAEpD,CAAC,CAACqD,gBAAlB;AAAA,+BAGI;AAAM,UAAA,QAAQ,EAAErB,aAAhB;AAA+B,UAAA,SAAS,EAAEhC,CAAC,CAACsD,WAA5C;AAAA,kCACI;AAAI,YAAA,SAAS,EAAEtD,CAAC,CAACuD,QAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI;AAAK,YAAA,SAAS,EAAC,MAAf;AAAA,mCACI;AAAO,cAAA,QAAQ,EAAKtB,CAAD,IAAO;AAAC,sBAAMuB,YAAY,GAAEvB,CAAC,CAACwB,MAAF,CAASC,KAA7B;AACvBpC,gBAAAA,OAAO,CAACkC,YAAD,CAAP;AACA3B,gBAAAA,OAAO,CAACC,GAAR,CAAYT,IAAZ;AAAkB,eAFtB;AAEuB,cAAA,IAAI,EAAC,gBAF5B;AAE6C,cAAA,WAAW,EAAC;AAFzD;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,kBAFJ,eAOI;AAAI,YAAA,SAAS,EAAErB,CAAC,CAACuD,QAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAPJ,eAQI;AAAA,mCACI;AAAA,qCACI;AAAO,gBAAA,IAAI,EAAG,MAAd;AAAqB,gBAAA,WAAW,EAAG,6FAAnC;AAAsD,gBAAA,QAAQ,EAAGtB,CAAD,IAAKjB,WAAW,CAACiB,CAAC,CAACwB,MAAF,CAASC,KAAV,CAAhF;AAAmG,gBAAA,SAAS,EAAI1D,CAAC,CAAC2D;AAAlH;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,kBARJ,eAaI;AAAI,YAAA,SAAS,EAAE3D,CAAC,CAACuD,QAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAbJ,eAcI;AAAA,mCACI;AAAA,qCACI;AAAO,gBAAA,IAAI,EAAG,MAAd;AAAqB,gBAAA,WAAW,EAAG,6IAAnC;AAA8D,gBAAA,QAAQ,EAAGtB,CAAD,IAAKf,eAAe,CAACe,CAAC,CAACwB,MAAF,CAASC,KAAV,CAA5F;AAA+G,gBAAA,SAAS,EAAI1D,CAAC,CAAC2D;AAA9H;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,kBAdJ,eAmBI;AAAI,YAAA,SAAS,EAAE3D,CAAC,CAACuD,QAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAnBJ,eAoBI;AAAA,mCACI;AAAA,qCACI;AAAO,gBAAA,IAAI,EAAG,MAAd;AAAqB,gBAAA,WAAW,EAAG,oEAAnC;AAAiD,gBAAA,QAAQ,EAAGtB,CAAD,IAAKb,cAAc,CAACa,CAAC,CAACwB,MAAF,CAASC,KAAV,CAA9E;AAAiG,gBAAA,SAAS,EAAI1D,CAAC,CAAC2D;AAAhH;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,kBApBJ,eA0BI;AAAI,YAAA,SAAS,EAAE3D,CAAC,CAACuD,QAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBA1BJ,eA2BI;AAAQ,YAAA,QAAQ,EAAKtB,CAAD,IAAO;AAAC,oBAAM2B,aAAa,GAAG3B,CAAC,CAACwB,MAAF,CAASC,KAA/B;AACxB9C,cAAAA,UAAU,CAACgD,aAAD,CAAV;AAA0B,aAD9B;AAAA,sBAEK/C,MAAM,CAACgD,GAAP,CAAWhD,MAAM,iBACd;AAA4B,cAAA,IAAI,EAAEA,MAAM,CAACiD,QAAzC;AAAmD,cAAA,KAAK,EAAEjD,MAAM,CAACiD,QAAjE;AAAA,wBAA4EjD,MAAM,CAACkD;AAAnF,eAAelD,MAAM,CAACkD,IAAtB;AAAA;AAAA;AAAA;AAAA,oBADH;AAFL,aACsClD,MAAM,CAACiD,QAD7C;AAAA;AAAA;AAAA;AAAA,kBA3BJ,eAiCI;AAAA,mCACI;AAAQ,cAAA,IAAI,EAAC,QAAb;AAAsB,cAAA,SAAS,EAAE9D,CAAC,CAACgE,SAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,kBAjCJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAHJ;AAAA;AAAA;AAAA;AAAA,cAHJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,UADJ;AAoDH;;GA5HuBxD,O;;KAAAA,O","sourcesContent":["import React, {useEffect, useState} from \"react\";\r\nimport s from \"./Booking.module.css\";\r\nimport {NavLink, useHistory} from \"react-router-dom\";\r\nimport Header from \"../Header_Footer/Header\";\r\nimport pic1 from \"./master.png\";\r\nimport pic2 from \"./services.png\";\r\nimport { CalendarComponent } from \"@syncfusion/ej2-react-calendars\";\r\nimport axios from \"axios\";\r\n\r\n\r\nexport default function Booking() {\r\n\r\n    // const [startDate, setStartDate] = useState(\"\");\r\n    // const [endDate, setEndDate] = useState(\"\");\r\n    // const [startAddress, setStartAddress] = useState(\"\");\r\n    // const [endAddress, setEndAddress] = useState(\"\");\r\n    // const [carName, setCarName] = useState(\"\");\r\n    // const [price, setPrice] = useState(\"100\");\r\n    // const[cars, setCars] = useState([]);\r\n    // const[carByParam, setCarByParams] = useState([]);\r\n\r\n    const[questName, setQuestName] = useState(0);\r\n    const[questId, setQuestId] = useState(0);\r\n    const[quests, setQuests] = useState([]);\r\n    const [teamName, setTeamName] = useState(\"\");\r\n    const [countOfUsers, setCountOfUsers] = useState(0);\r\n    const [description, setDescription] = useState(\"\");\r\n    const [date, setDate] = useState(\"\");\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        axios\r\n            .get(\"https://localhost:44332/api/Quest\",{\r\n                headers:{\r\n                    \"Content-Type\": \"application/json\",\r\n                    \"Accept\": \"application/json\",\r\n                    \"Authorization\": \"Bearer \"+ localStorage.getItem(\"tok\"),\r\n                }\r\n            })\r\n            .then(\r\n                (respon) => {\r\n                    console.log(respon);\r\n                    console.log(respon.data);\r\n                    setQuests(respon.data)})\r\n    },[]);\r\n\r\n\r\n    async function createBooking(e){\r\n         e.preventDefault();\r\n\r\n        let res = await fetch(\"https://localhost:44332/api/Booking/Form\", {\r\n            method: 'POST',\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n                \"Accept\": \"application/json\",\r\n                \"Authorization\": \"Bearer \"+ localStorage.getItem(\"tok\"),\r\n            },\r\n            body: JSON.stringify({Quest_id: questId, TeamName:teamName,CountOfUsers:countOfUsers,Description:description, Date:date}),\r\n        });\r\n        if(res.status==200){\r\n            alert(\"Успешно\");\r\n        }\r\n        else{\r\n            alert(\"Введите корректные данные\");\r\n        }\r\n       console.log(res);\r\n       console.log(res.status);\r\n    }\r\n\r\n    // console.log(quests);\r\n    console.log(\"Айди квеста:\")\r\n    console.log(questId);\r\n    console.log(teamName);\r\n    console.log(countOfUsers);\r\n    console.log(description);\r\n    console.log(date);\r\n\r\n\r\n    let id = 0;\r\n\r\n\r\n    return (\r\n        <div className={s.booking}>\r\n            <div className={s.container}>\r\n                 <h1 className={s.h1Online}>Онлайн бронювання</h1>\r\n                <h3 className={s.h3Choose}>Выберите необходимые варианты:</h3>\r\n                <div className={s.container_choose}>\r\n\r\n\r\n                    <form onSubmit={createBooking} className={s.formControl}>\r\n                        <h4 className={s.h4choose}>Выберите дату</h4>\r\n                        <div className=\"mb-4\">\r\n                            <input onChange = {(e) => {const selectedDate= e.target.value;\r\n                                setDate(selectedDate);\r\n                                console.log(date)}}type=\"datetime-local\" placeholder=\"date\" />\r\n                        </div>\r\n                        <h4 className={s.h4choose}>Выберите название команды</h4>\r\n                        <div>\r\n                            <form>\r\n                                <input type = \"text\" placeholder = \"Название команды\" onChange={(e)=>setTeamName(e.target.value)}  className = {s.input_promo1}></input>\r\n                            </form>\r\n                        </div>\r\n                        <h4 className={s.h4choose}>Выберите количество пользователей</h4>\r\n                        <div>\r\n                            <form>\r\n                                <input type = \"text\" placeholder = \"Количество пользователей\" onChange={(e)=>setCountOfUsers(e.target.value)}  className = {s.input_promo1}></input>\r\n                            </form>\r\n                        </div>\r\n                        <h4 className={s.h4choose}>Оставить комментарий</h4>\r\n                        <div>\r\n                            <form>\r\n                                <input type = \"text\" placeholder = \"комментарий\" onChange={(e)=>setDescription(e.target.value)}  className = {s.input_promo1}></input>\r\n                            </form>\r\n                        </div>\r\n\r\n                        <h4 className={s.h4choose}>Выберите название квеста</h4>\r\n                        <select onChange = {(e) => {const selectedQuest = e.target.value;\r\n                            setQuestId(selectedQuest)}} key ={quests.quest_id}>\r\n                            {quests.map(quests =>\r\n                                <option key = {quests.name} name={quests.quest_id} value={quests.quest_id}>{quests.name}</option>\r\n                            )}\r\n                        </select>\r\n                        <div>\r\n                            <button type=\"submit\" className={s.btn_login}>Забронировать </button>\r\n\r\n\r\n                        </div>\r\n                    </form>\r\n\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}"]},"metadata":{},"sourceType":"module"}