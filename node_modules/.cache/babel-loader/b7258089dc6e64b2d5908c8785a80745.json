{"ast":null,"code":"import newPostTextReducer from\"./newPostText-reducer\";import postsDataReducer from\"./postsData-reducer\";var ADD_POST='ADD-POST';var UPDATE_NEW_POST_TEXT='UPDATE-NEW-POST-TEXT';var store={_state:{postsData:[{id:1,texthead:'Топ стрижек 2021',textmain:'It is a long established fact that a reader will be distracted by the readable content of a page when looking at its layout. The point of using Lorem Ipsum is that....'},{id:2,texthead:'Выбор кресла для барберов',textmain:'It is a long established fact that a reader will be distracted by the readable content of a page when looking at its layout. The point of using Lorem Ipsum is that....'},{id:3,texthead:'Как выбрать “своего” мастера',textmain:'It is a long established fact that a reader will be distracted by the readable content of a page when looking at its layout. The point of using Lorem Ipsum is that....'}],newPostText:'it-kamasutra'},_callSubscriber:function _callSubscriber(){console.log('state was changed');},getState:function getState(){return this._state;},subscribe:function subscribe(observer){this._callSubscriber=observer;// observer - наблюдатель - паттерн\n},addpost:function addpost(){var newPost={id:4,texthead:this._state.newPostText,textmain:\"lorem lalallal\"};this._state.postsData.push(newPost);this._state.newPostText='';this._callSubscriber(this._state);},updateNewPostText:function updateNewPostText(newText){this._state.newPostText=newText;this._callSubscriber(this._state);},dispatch:function dispatch(action){//  { type: 'название действия  например ADD-POST' }\nthis._state.postsData=postsDataReducer(this._state.postsData,action);this._state.newPostText=newPostTextReducer(this._state.newPostText,action);this._callSubscriber(this._state);}};export var addPostActionCreator=function addPostActionCreator(){return{type:ADD_POST};};export var updateNewPostTextActionCreator=function updateNewPostTextActionCreator(text){return{type:UPDATE_NEW_POST_TEXT,newText:text};};export default store;window.store=store;","map":{"version":3,"sources":["E:/Универ/3 курс/АТАРК/Новая папка (2)/Yotor/src/redux/store.jsx"],"names":["newPostTextReducer","postsDataReducer","ADD_POST","UPDATE_NEW_POST_TEXT","store","_state","postsData","id","texthead","textmain","newPostText","_callSubscriber","console","log","getState","subscribe","observer","addpost","newPost","push","updateNewPostText","newText","dispatch","action","addPostActionCreator","type","updateNewPostTextActionCreator","text","window"],"mappings":"AAAA,MAAOA,CAAAA,kBAAP,KAA+B,uBAA/B,CACA,MAAOC,CAAAA,gBAAP,KAA6B,qBAA7B,CAEA,GAAMC,CAAAA,QAAQ,CAAG,UAAjB,CACA,GAAMC,CAAAA,oBAAoB,CAAG,sBAA7B,CAEA,GAAIC,CAAAA,KAAK,CAAG,CACVC,MAAM,CAAE,CACNC,SAAS,CAAE,CAAC,CACVC,EAAE,CAAE,CADM,CACHC,QAAQ,CAAE,kBADP,CAC2BC,QAAQ,CAAE,yKADrC,CAAD,CAER,CACDF,EAAE,CAAE,CADH,CACMC,QAAQ,CAAE,2BADhB,CAC6CC,QAAQ,CAAE,yKADvD,CAFQ,CAIR,CACDF,EAAE,CAAE,CADH,CACMC,QAAQ,CAAE,8BADhB,CACgDC,QAAQ,CAAE,yKAD1D,CAJQ,CADL,CASNC,WAAW,CAAE,cATP,CADE,CAYVC,eAZU,2BAYQ,CAChBC,OAAO,CAACC,GAAR,CAAY,mBAAZ,EACD,CAdS,CAiBVC,QAjBU,oBAiBC,CACT,MAAO,MAAKT,MAAZ,CACD,CAnBS,CAoBVU,SApBU,oBAoBAC,QApBA,CAoBU,CAClB,KAAKL,eAAL,CAAuBK,QAAvB,CAAiC;AAClC,CAtBS,CAyBVC,OAzBU,mBAyBA,CACR,GAAIC,CAAAA,OAAO,CAAG,CACZX,EAAE,CAAE,CADQ,CAEZC,QAAQ,CAAE,KAAKH,MAAL,CAAYK,WAFV,CAGZD,QAAQ,CAAE,gBAHE,CAAd,CAKA,KAAKJ,MAAL,CAAYC,SAAZ,CAAsBa,IAAtB,CAA2BD,OAA3B,EACA,KAAKb,MAAL,CAAYK,WAAZ,CAA0B,EAA1B,CACA,KAAKC,eAAL,CAAqB,KAAKN,MAA1B,EACD,CAlCS,CAmCVe,iBAnCU,4BAmCQC,OAnCR,CAmCiB,CACzB,KAAKhB,MAAL,CAAYK,WAAZ,CAA0BW,OAA1B,CACA,KAAKV,eAAL,CAAqB,KAAKN,MAA1B,EACD,CAtCS,CAwCViB,QAxCU,mBAwCDC,MAxCC,CAwCO,CAAE;AAEjB,KAAKlB,MAAL,CAAYC,SAAZ,CAAwBL,gBAAgB,CAAC,KAAKI,MAAL,CAAYC,SAAb,CAAwBiB,MAAxB,CAAxC,CACA,KAAKlB,MAAL,CAAYK,WAAZ,CAA0BV,kBAAkB,CAAC,KAAKK,MAAL,CAAYK,WAAb,CAA0Ba,MAA1B,CAA5C,CAEE,KAAKZ,eAAL,CAAqB,KAAKN,MAA1B,EACD,CA9CO,CAAZ,CAoDA,MAAO,IAAMmB,CAAAA,oBAAoB,CAAG,QAAvBA,CAAAA,oBAAuB,EAAM,CAExC,MAAO,CAAEC,IAAI,CAAEvB,QAAR,CAAP,CACD,CAHM,CAKP,MAAO,IAAMwB,CAAAA,8BAA8B,CAAG,QAAjCA,CAAAA,8BAAiC,CAACC,IAAD,CAAU,CACtD,MAAO,CAAEF,IAAI,CAAEtB,oBAAR,CAA8BkB,OAAO,CAAEM,IAAvC,CAAP,CACD,CAFM,CAIP,cAAevB,CAAAA,KAAf,CACAwB,MAAM,CAACxB,KAAP,CAAeA,KAAf","sourcesContent":["import newPostTextReducer from \"./newPostText-reducer\";\r\nimport postsDataReducer from \"./postsData-reducer\";\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst UPDATE_NEW_POST_TEXT = 'UPDATE-NEW-POST-TEXT';\r\n\r\nlet store = {\r\n  _state: {\r\n    postsData: [{\r\n      id: 1, texthead: 'Топ стрижек 2021', textmain: 'It is a long established fact that a reader will be distracted by the readable content of a page when looking at its layout. The point of using Lorem Ipsum is that....'\r\n    }, {\r\n      id: 2, texthead: 'Выбор кресла для барберов', textmain: 'It is a long established fact that a reader will be distracted by the readable content of a page when looking at its layout. The point of using Lorem Ipsum is that....'\r\n    }, {\r\n      id: 3, texthead: 'Как выбрать “своего” мастера', textmain: 'It is a long established fact that a reader will be distracted by the readable content of a page when looking at its layout. The point of using Lorem Ipsum is that....'\r\n    }],\r\n\r\n    newPostText: 'it-kamasutra'\r\n  },\r\n  _callSubscriber() {\r\n    console.log('state was changed');\r\n  },\r\n\r\n\r\n  getState() {\r\n    return this._state;\r\n  },\r\n  subscribe(observer) {\r\n    this._callSubscriber = observer; // observer - наблюдатель - паттерн\r\n  },\r\n\r\n\r\n  addpost() {\r\n    let newPost = {\r\n      id: 4,\r\n      texthead: this._state.newPostText,\r\n      textmain: \"lorem lalallal\"\r\n    };\r\n    this._state.postsData.push(newPost);\r\n    this._state.newPostText = '';\r\n    this._callSubscriber(this._state);\r\n  },\r\n  updateNewPostText(newText) {\r\n    this._state.newPostText = newText;\r\n    this._callSubscriber(this._state);\r\n  },\r\n\r\n  dispatch(action) { //  { type: 'название действия  например ADD-POST' }\r\n\r\n    this._state.postsData = postsDataReducer(this._state.postsData, action);\r\n    this._state.newPostText = newPostTextReducer(this._state.newPostText, action);\r\n\r\n      this._callSubscriber(this._state);\r\n    }\r\n\r\n  }\r\n\r\n \r\n\r\nexport const addPostActionCreator = () => {\r\n\r\n  return { type: ADD_POST }\r\n}\r\n\r\nexport const updateNewPostTextActionCreator = (text) => {\r\n  return { type: UPDATE_NEW_POST_TEXT, newText: text }\r\n}\r\n\r\nexport default store;\r\nwindow.store = store;\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}